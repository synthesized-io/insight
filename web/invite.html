<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invite generator</title>
    <style>
        body {
            font-family: 'Helvetica', 'Arial', sans-serif;
            margin: 0% 3%;
        }
        #generate {
            vertical-align: top;
            margin-left: 3%;
        }
        #source {
            margin: 4% 0%;
        }
        #result {
            margin: 4% 0%;
        }
    </style>
</head>
<body>

<h1>Invite Code Generator</h1>

<div id="source">
    <h4><label for="emails">emails:</label></h4>
    <textarea id="emails" rows="15" cols="50"></textarea>
    <button id="generate" type="button" onclick="generate()">Generate</button>
</div>

<script>
    var key = "be58c543";
    var crc32=function(r){for(var a,o=[],c=0;c<256;c++){a=c;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}for(var n=-1,t=0;t<r.length;t++)n=n>>>8^o[255&(n^r.charCodeAt(t))];return(-1^n)>>>0};

    function generate() {
        document.getElementById("invites").value = "";
        var emails = document.getElementById("emails").value.split("\n");
        for (i = 0; i < emails.length; i++) {
            emails[i] = emails[i].trim();
            if (emails[i] == "") {
                continue;
            }
            code_int = crc32(emails[i] + key);
            code = code_int.toString(16).padStart(8, '0').toUpperCase();
            document.getElementById("invites").value += emails[i] + ":\t" + code + "\n";
        }
    }
</script>

<div id="result">
    <h4><label for="invites">invites:</label></h4>
    <textarea id="invites" rows="15" cols="50" readonly></textarea>
</div>

</body>

</html>